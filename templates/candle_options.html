{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
	<title>Cryptocurrency - Landing Page Template</title>
	<meta charset="UTF-8">
	<meta name="description" content="Cryptocurrency Landing Page Template">
	<meta name="keywords" content="cryptocurrency, unica, creative, html">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Favicon -->
	<link href="/static/img/favicon.ico" rel="shortcut icon"/>

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <!-- Nucleo Icons -->
  <link href="/static/assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="/static/assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Popper -->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <!-- Main Styling -->
  <link href="/static/assets/css/soft-ui-dashboard-tailwind.css?v=1.0.5" rel="stylesheet" />
  <!-- Nepcha Analytics (nepcha.com) -->
  <!-- Nepcha is a easy-to-use web analytics. No cookies and fully compliant with GDPR, CCPA and PECR. -->
  <script defer data-site="YOUR_DOMAIN_HERE" src="https://api.nepcha.com/js/nepcha-analytics.js"></script>

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

	<!-- Stylesheets -->
	<link rel="stylesheet" href="/static/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="/static/css/font-awesome.min.css"/>
	<link rel="stylesheet" href="/static/css/themify-icons.css"/>
	<link rel="stylesheet" href="/static/css/animate.css"/>
	<link rel="stylesheet" href="/static/css/owl.carousel.css"/>
	<link rel="stylesheet" href="/static/css/style.css"/>
	<link href="https://www.tradingview.com/assets/embed.embed.css" rel="stylesheet">

	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<script src="https://unpkg.com/lightweight-charts@3.0.0/dist/lightweight-charts.standalone.production.js"></script>
	
</head>
<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header section end -->
	


	

	<!--
  Heads up! ðŸ‘‹

  This component comes with some `rtl` classes. Please remove them if they are not needed in your project.
-->
  


  <!--
  Heads up! ðŸ‘‹

  This component comes with some `rtl` classes. Please remove them if they are not needed in your project.
-->
	
</body>
</html>

{% load static %}
<!--
=========================================================
* Soft UI Dashboard Tailwind - v1.0.5
=========================================================

* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard-tailwind
* Copyright 2023 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="76x76" href="/static/assets/img/apple-icon.png" />
    <link rel="icon" type="image/png" href="/static/assets/img/favicon.png" />
    <title>Soft UI Dashboard Tailwind</title>
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <!-- Nucleo Icons -->
    <link href="/static/assets/css/nucleo-icons.css" rel="stylesheet" />
    <link href="/static/assets/css/nucleo-svg.css" rel="stylesheet" />
    <!-- Popper -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <!-- Main Styling -->
    <link href="/static/assets/css/soft-ui-dashboard-tailwind.css?v=1.0.5" rel="stylesheet" />    
    <!-- Nepcha Analytics (nepcha.com) -->
    <!-- Nepcha is a easy-to-use web analytics. No cookies and fully compliant with GDPR, CCPA and PECR. -->
    <script defer data-site="YOUR_DOMAIN_HERE" src="https://api.nepcha.com/js/nepcha-analytics.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/lightweight-charts@3.0.0/dist/lightweight-charts.standalone.production.js"></script>
    <style>
      /* ... (existing styles) ... */
      .right-side-container {
        position: absolute;
        top: 150px;
        right: 50px;
        display: flex;
        flex-direction: column;
        background-color: #ffffff;
        padding: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .input-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 10px;
      }

      .input-group label {
        margin-bottom: 5px;
      }

      .buttons {
        display: flex;
      }

      /* ... (existing styles) ... */
	  .star-checkbox {
		display: inline-block;
		cursor: pointer;
		}

		.star-icon {
		width: 20px;
		height: 20px;
		fill: white;
		stroke: blue;
		stroke-width: 2;
		transition: fill 0.2s ease;
		}

		.star-checkbox input[type="checkbox"] {
		display: none;
		}

		.star-checkbox input[type="checkbox"]:checked + svg {
		fill: blue;
		}
        #chart {
          margin-top: 1px;
          margin-left: 1px;
		  color: #84b9ff;
        } 
    </style>
    <style>
      .chart-container {
        width: 700px;
      }
      div[class*="border-black/12.6"] {
        width: 880px; 
      }
      #chart-gradient{
        width: 835;
        background-color: #000035;
      }
      #chart {
          background-color: #000035;
      }
      .call-btn {
        background: green;
        color: white; 
      }

      .put-btn {
        background: red;
        color: white;
      }

      /* Stack buttons vertically */
      .buttons {
        display: flex;
        flex-direction: column; 
      }
      #line-candle{
        border-radius: 30px;
      }
      .btn-img {
        width: 20px; 
        height: 20px;
        margin-left: 10px;
      }
      a {
        text-decoration: none;
        display: inline-block; 
      }
      a:focus {
        outline: none;
      }
      body {
        background: repeating-radial-gradient(ellipse at center, #45464d, #3f5a47,  #3e5055,  #373444,  #63515f);
      }
      aside {
        background: repeating-conic-gradient(0deg, #8c90a8 20deg, #72a381 45deg,  #8cb9c5,  #9b92c5,  #c7a2bf);
      }
      #chart-holder{
        background: conic-gradient(from 0deg, #45464d, #3f5a47,  #3e5055,  #373444,  #63515f);
      }
      .legend-container {
        background-color: white; /* Background color for the chart container */
      }
      .dropdown {
      position: relative;
      display: inline-block;
      margin-left: 10px;
      margin-top: 10px;
      }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
    }

    .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    .dropdown-content a:hover {background: linear-gradient(to bottom, #4dff65, #acaac9); border-radius: 15px;}

    .dropdown:hover .dropdown-content {
      display: block;
      background-color: rgb(255, 255, 255); // darker orange on hover
      border-radius: 15px; // for curved edges
    }

    .dropbtn {
      background: linear-gradient(to bottom, #ffed4d, #cae08b);
      color: white;
      padding: 16px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      border-radius: 25px; // for curved edges
    }

    </style>
  </head>

  <body class="m-0 font-sans text-base antialiased font-normal leading-default bg-gray-50 text-slate-500">
    
    <!-- sidenav  -->
    <aside style="background: repeating-linear-gradient(45deg, #afb2c7, rgb(203, 240, 214),  #d9f7ff,  #f7f5ff,  #63515f);" class="max-w-62.5 ease-nav-brand z-990 fixed inset-y-0 my-4 ml-4 block w-full -translate-x-full flex-wrap items-center justify-between overflow-y-auto rounded-2xl border-0 bg-white p-0 antialiased shadow-none transition-transform duration-200 xl:left-0 xl:translate-x-0 xl:bg-transparent">
      <div class="h-19.5">
        <i class="absolute top-0 right-0 hidden p-4 opacity-50 cursor-pointer fas fa-times text-slate-400 xl:hidden" sidenav-close></i>
        <a class="block px-8 py-6 m-0 text-sm whitespace-nowrap text-slate-700" href="{% url 'home' %}" target="_blank">
          <img src="/static/img/logo.png" class="inline h-full max-w-full transition-all duration-200 ease-nav-brand max-h-8" alt="main_logo" />
          <span class="ml-1 font-semibold transition-all duration-200 ease-nav-brand"></span>
        </a>
      </div>

      <hr class="h-px mt-0 bg-transparent bg-gradient-to-r from-transparent via-black/40 to-transparent" />

      <div class="items-center block w-auto max-h-screen overflow-auto h-sidenav grow basis-full">
        <ul class="flex flex-col pl-0 mb-0">
          {% for pair in pairs %}
          <li class="mt-0.5 w-full">
            <a style="background-color: transparent;" class="py-2.7 shadow-soft-xl text-sm ease-nav-brand my-0 mx-4 flex items-center rounded-lg px-4 font-semibold text-slate-700 transition-colors" href="{% url 'candle_options' symbol=pair.symbol %}">
              <img src="/static/assets/img/pairs/{{ pair.image }}" style="height: 22px;" alt="{{ currency_pair }}" class="mr-2 h-8 w-8 rounded-lg">
              <span class="ml-1 duration-300 opacity-100 pointer-events-none ease-soft">{{pair.symbol}}</span>
            </a>
          </li>
          {% endfor %}

          <li class="w-full mt-4">
            <h6 class="pl-6 ml-2 text-xs font-bold leading-tight uppercase opacity-60">Account pages</h6>
          </li>

          <li class="mt-0.5 w-full">
            <a class="py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors" href="{% url 'trading' account='DEMO' %}">
              <div class="shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-2.5">
                <svg width="12px" height="12px" viewBox="0 0 46 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>customer-support</title>
                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g transform="translate(-1717.000000, -291.000000)" fill="#FFFFFF" fill-rule="nonzero">
                      <g transform="translate(1716.000000, 291.000000)">
                        <g transform="translate(1.000000, 0.000000)">
                          <path class="fill-slate-800 opacity-60" d="M45,0 L26,0 C25.447,0 25,0.447 25,1 L25,20 C25,20.379 25.214,20.725 25.553,20.895 C25.694,20.965 25.848,21 26,21 C26.212,21 26.424,20.933 26.6,20.8 L34.333,15 L45,15 C45.553,15 46,14.553 46,14 L46,1 C46,0.447 45.553,0 45,0 Z"></path>
                          <path class="fill-slate-800" d="M22.883,32.86 C20.761,32.012 17.324,31 13,31 C8.676,31 5.239,32.012 3.116,32.86 C1.224,33.619 0,35.438 0,37.494 L0,41 C0,41.553 0.447,42 1,42 L25,42 C25.553,42 26,41.553 26,41 L26,37.494 C26,35.438 24.776,33.619 22.883,32.86 Z"></path>
                          <path class="fill-slate-800" d="M13,28 C17.432,28 21,22.529 21,18 C21,13.589 17.411,10 13,10 C8.589,10 5,13.589 5,18 C5,22.529 8.568,28 13,28 Z"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
              </div>
              <span class="ml-1 duration-300 opacity-100 pointer-events-none ease-soft">Forex & CFDs</span>
            </a> 
          </li>

          <li class="mt-0.5 w-full">
            <a class="py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors" href="{% url 'options' symbol='GBPJPY' %}">
              <div class="shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-2.5">
                <svg width="12px" height="12px" viewBox="0 0 40 44" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>document</title>
                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g transform="translate(-1870.000000, -591.000000)" fill="#FFFFFF" fill-rule="nonzero">
                      <g transform="translate(1716.000000, 291.000000)">
                        <g transform="translate(154.000000, 300.000000)">
                          <path class="fill-slate-800 opacity-60" d="M40,40 L36.3636364,40 L36.3636364,3.63636364 L5.45454545,3.63636364 L5.45454545,0 L38.1818182,0 C39.1854545,0 40,0.814545455 40,1.81818182 L40,40 Z"></path>
                          <path class="fill-slate-800" d="M30.9090909,7.27272727 L1.81818182,7.27272727 C0.814545455,7.27272727 0,8.08727273 0,9.09090909 L0,41.8181818 C0,42.8218182 0.814545455,43.6363636 1.81818182,43.6363636 L30.9090909,43.6363636 C31.9127273,43.6363636 32.7272727,42.8218182 32.7272727,41.8181818 L32.7272727,9.09090909 C32.7272727,8.08727273 31.9127273,7.27272727 30.9090909,7.27272727 Z M18.1818182,34.5454545 L7.27272727,34.5454545 L7.27272727,30.9090909 L18.1818182,30.9090909 L18.1818182,34.5454545 Z M25.4545455,27.2727273 L7.27272727,27.2727273 L7.27272727,23.6363636 L25.4545455,23.6363636 L25.4545455,27.2727273 Z M25.4545455,20 L7.27272727,20 L7.27272727,16.3636364 L25.4545455,16.3636364 L25.4545455,20 Z"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
              </div>
              <span class="ml-1 duration-300 opacity-100 pointer-events-none ease-soft">Binary Options</span>
            </a>
          </li>

          <li class="mt-0.5 w-full">
            <a class="py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors" href="{% url 'crypto' symbol='BTCUSD' %}">
              <div class="shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-2.5">
                <svg width="12px" height="20px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>spaceship</title>
                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g transform="translate(-1720.000000, -592.000000)" fill="#FFFFFF" fill-rule="nonzero">
                      <g transform="translate(1716.000000, 291.000000)">
                        <g transform="translate(4.000000, 301.000000)">
                          <path
                            class="fill-slate-800"
                            d="M39.3,0.706666667 C38.9660984,0.370464027 38.5048767,0.192278529 38.0316667,0.216666667 C14.6516667,1.43666667 6.015,22.2633333 5.93166667,22.4733333 C5.68236407,23.0926189 5.82664679,23.8009159 6.29833333,24.2733333 L15.7266667,33.7016667 C16.2013871,34.1756798 16.9140329,34.3188658 17.535,34.065 C17.7433333,33.98 38.4583333,25.2466667 39.7816667,1.97666667 C39.8087196,1.50414529 39.6335979,1.04240574 39.3,0.706666667 Z M25.69,19.0233333 C24.7367525,19.9768687 23.3029475,20.2622391 22.0572426,19.7463614 C20.8115377,19.2304837 19.9992882,18.0149658 19.9992882,16.6666667 C19.9992882,15.3183676 20.8115377,14.1028496 22.0572426,13.5869719 C23.3029475,13.0710943 24.7367525,13.3564646 25.69,14.31 C26.9912731,15.6116662 26.9912731,17.7216672 25.69,19.0233333 L25.69,19.0233333 Z"
                          ></path>
                          <path class="fill-slate-800 opacity-60" d="M1.855,31.4066667 C3.05106558,30.2024182 4.79973884,29.7296005 6.43969145,30.1670277 C8.07964407,30.6044549 9.36054508,31.8853559 9.7979723,33.5253085 C10.2353995,35.1652612 9.76258177,36.9139344 8.55833333,38.11 C6.70666667,39.9616667 0,40 0,40 C0,40 0,33.2566667 1.855,31.4066667 Z"></path>
                          <path class="fill-slate-800 opacity-60" d="M17.2616667,3.90166667 C12.4943643,3.07192755 7.62174065,4.61673894 4.20333333,8.04166667 C3.31200265,8.94126033 2.53706177,9.94913142 1.89666667,11.0416667 C1.5109569,11.6966059 1.61721591,12.5295394 2.155,13.0666667 L5.47,16.3833333 C8.55036617,11.4946947 12.5559074,7.25476565 17.2616667,3.90166667 L17.2616667,3.90166667 Z"></path>
                          <path class="fill-slate-800 opacity-60" d="M36.0983333,22.7383333 C36.9280725,27.5056357 35.3832611,32.3782594 31.9583333,35.7966667 C31.0587397,36.6879974 30.0508686,37.4629382 28.9583333,38.1033333 C28.3033941,38.4890431 27.4704606,38.3827841 26.9333333,37.845 L23.6166667,34.53 C28.5053053,31.4496338 32.7452344,27.4440926 36.0983333,22.7383333 L36.0983333,22.7383333 Z"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
              </div>
              <span class="ml-1 duration-300 opacity-100 pointer-events-none ease-soft">Cryptocurrency</span>
            </a>
          </li>
        </ul>
      </div>

      <div class="mx-4">
        <!-- load phantom colors for card after: -->
        <p class="invisible hidden text-gray-800 text-red-500 text-red-600 after:bg-gradient-to-tl after:from-gray-900 after:to-slate-800 after:from-blue-600 after:to-cyan-400 after:from-red-500 after:to-yellow-400 after:from-green-600 after:to-lime-400 after:from-red-600 after:to-rose-400 after:from-slate-600 after:to-slate-300 text-lime-500 text-cyan-500 text-slate-400 text-fuchsia-500"></p>
        <div class="after:opacity-65 after:bg-gradient-to-tl after:from-slate-600 after:to-slate-300 relative flex min-w-0 flex-col items-center break-words rounded-2xl border-0 border-solid border-blue-900 bg-white bg-clip-border shadow-none after:absolute after:top-0 after:bottom-0 after:left-0 after:z-10 after:block after:h-full after:w-full after:rounded-2xl after:content-['']" sidenav-card>
          <div class="mb-7.5 absolute h-full w-full rounded-2xl bg-cover bg-center" style="background-image: url('./assets/img/curved-images/white-curved.jpeg')"></div>
          <div class="relative z-20 flex-auto w-full p-4 text-left text-white">
            <div class="flex items-center justify-center w-8 h-8 mb-4 text-center bg-white bg-center rounded-lg icon shadow-soft-2xl">
              <i class="top-0 z-10 text-lg leading-none text-transparent ni ni-diamond bg-gradient-to-tl from-slate-600 to-slate-300 bg-clip-text opacity-80" sidenav-card-icon></i>
            </div>
            <div class="transition-all duration-200 ease-nav-brand">
              <h6 class="mb-0 text-white">Need help?</h6>
              <p class="mt-0 mb-4 text-xs font-semibold leading-tight">Please check our docs</p>
              <a href="https://www.creative-tim.com/learning-lab/tailwind/html/quick-start/soft-ui-dashboard/" target="_blank" class="inline-block w-full px-8 py-2 mb-0 text-xs font-bold text-center text-black uppercase transition-all ease-in bg-white border-0 border-white rounded-lg shadow-soft-md bg-150 leading-pro hover:shadow-soft-2xl hover:scale-102">Documentation</a>
            </div>
          </div>
        </div>
        <!-- pro btn  -->
        <a class="inline-block w-full px-6 py-3 my-4 text-xs font-bold text-center text-white uppercase align-middle transition-all ease-in border-0 rounded-lg select-none shadow-soft-md bg-150 bg-x-25 leading-pro bg-gradient-to-tl from-purple-700 to-pink-500 hover:shadow-soft-2xl hover:scale-102" target="_blank" href="https://www.creative-tim.com/product/soft-ui-dashboard-pro-tailwind?ref=sidebarfree">Upgrade to pro</a>
      </div>
    </aside>
    <!-- end sidenav -->

    <main class="ease-soft-in-out xl:ml-68.5 relative h-full max-h-screen rounded-xl transition-all duration-200">
      <!-- Navbar -->
      <nav class="relative flex flex-wrap items-center justify-between px-0 py-2 mx-6 transition-all shadow-none duration-250 ease-soft-in rounded-2xl lg:flex-nowrap lg:justify-start" navbar-main navbar-scroll="true">
        <div class="flex items-center justify-between w-full px-4 py-1 mx-auto flex-wrap-inherit">
          <nav>
            <!-- breadcrumb -->
            <ol class="flex flex-wrap pt-1 mr-12 bg-transparent rounded-lg sm:mr-16">
              <li class="text-sm leading-normal">
                <a class="opacity-50 text-slate-700" href="javascript:;">Trading</a>
              </li>
              <li class="text-sm pl-2 capitalize leading-normal text-slate-700 before:float-left before:pr-2 before:text-gray-600 before:content-['/']" aria-current="page">Binary</li>
            </ol>
            <h6 class="mb-0 font-bold capitalize">Options</h6>
          </nav>

          <div class="flex items-center mt-2 grow sm:mt-0 sm:mr-6 md:mr-0 lg:flex lg:basis-auto">
            <div class="flex items-center md:ml-auto md:pr-4">
              <div class="relative flex flex-wrap items-stretch w-full transition-all rounded-lg ease-soft">
                <span class="text-sm ease-soft leading-5.6 absolute z-50 -ml-px flex h-full items-center whitespace-nowrap rounded-lg rounded-tr-none rounded-br-none border border-r-0 border-transparent bg-transparent py-2 px-2.5 text-center font-normal text-slate-500 transition-all">
                  <i class="fas fa-search"></i>
                </span>
                <input type="text" class="pl-8.75 text-sm focus:shadow-soft-primary-outline ease-soft w-1/100 leading-5.6 relative -ml-px block min-w-0 flex-auto rounded-lg border border-solid border-gray-300 bg-white bg-clip-padding py-2 pr-3 text-gray-700 transition-all placeholder:text-gray-500 focus:border-fuchsia-300 focus:outline-none focus:transition-shadow" placeholder="Type here..." />
              </div>
            </div>
            <ul class="flex flex-row justify-end pl-0 mb-0 list-none md-max:w-full">
              <!-- online builder btn  -->
              <!-- <li class="flex items-center">
                <a class="inline-block px-8 py-2 mb-0 mr-4 text-xs font-bold text-center uppercase align-middle transition-all bg-transparent border border-solid rounded-lg shadow-none cursor-pointer leading-pro border-fuchsia-500 ease-soft-in hover:scale-102 active:shadow-soft-xs text-fuchsia-500 hover:border-fuchsia-500 active:bg-fuchsia-500 active:hover:text-fuchsia-500 hover:text-fuchsia-500 tracking-tight-soft hover:bg-transparent hover:opacity-75 hover:shadow-none active:text-white active:hover:bg-transparent" target="_blank" href="https://www.creative-tim.com/builder/soft-ui?ref=navbar-dashboard&amp;_ga=2.76518741.1192788655.1647724933-1242940210.1644448053">Online Builder</a>
              </li> -->
              <li class="flex items-center">
                <a href="./pages/sign-in.html" class="block px-0 py-2 text-sm font-semibold transition-all ease-nav-brand text-slate-500">
                  <i class="fa fa-user sm:mr-1"></i>
                  <span class="hidden sm:inline">Sign In</span>
                </a>
              </li>
              <li class="flex items-center pl-4 xl:hidden">
                <a href="javascript:;" class="block p-0 text-sm transition-all ease-nav-brand text-slate-500" sidenav-trigger>
                  <div class="w-4.5 overflow-hidden">
                    <i class="ease-soft mb-0.75 relative block h-0.5 rounded-sm bg-slate-500 transition-all"></i>
                    <i class="ease-soft mb-0.75 relative block h-0.5 rounded-sm bg-slate-500 transition-all"></i>
                    <i class="ease-soft relative block h-0.5 rounded-sm bg-slate-500 transition-all"></i>
                  </div>
                </a>
              </li>
              <li class="flex items-center px-4">
                <a href="javascript:;" class="p-0 text-sm transition-all ease-nav-brand text-slate-500">
                  <i fixed-plugin-button-nav class="cursor-pointer fa fa-cog"></i>
                  <!-- fixed-plugin-button-nav  -->
                </a>
              </li>

              <!-- notifications -->

              <li class="relative flex items-center pr-2">
                <p class="hidden transform-dropdown-show"></p>
                <a href="javascript:;" class="block p-0 text-sm transition-all ease-nav-brand text-slate-500" dropdown-trigger aria-expanded="false">
                  <i class="cursor-pointer fa fa-bell"></i>
                </a>

                <ul dropdown-menu class="text-sm transform-dropdown before:font-awesome before:leading-default before:duration-350 before:ease-soft lg:shadow-soft-3xl duration-250 min-w-44 before:sm:right-7.5 before:text-5.5 pointer-events-none absolute right-0 top-0 z-50 origin-top list-none rounded-lg border-0 border-solid border-transparent bg-white bg-clip-padding px-2 py-4 text-left text-slate-500 opacity-0 transition-all before:absolute before:right-2 before:left-auto before:top-0 before:z-50 before:inline-block before:font-normal before:text-white before:antialiased before:transition-all before:content-['\f0d8'] sm:-mr-6 lg:absolute lg:right-0 lg:left-auto lg:mt-2 lg:block lg:cursor-pointer">
                  <!-- add show class on dropdown open js -->
                  <li class="relative mb-2">
                    <a class="ease-soft py-1.2 clear-both block w-full whitespace-nowrap rounded-lg bg-transparent px-4 duration-300 hover:bg-gray-200 hover:text-slate-700 lg:transition-colors" href="javascript:;">
                      <div class="flex py-1">
                        <div class="my-auto">
                          <img src="/static/assets/img/team-2.jpg" class="inline-flex items-center justify-center mr-4 text-sm text-white h-9 w-9 max-w-none rounded-xl" />
                        </div>
                        <div class="flex flex-col justify-center">
                          <h6 class="mb-1 text-sm font-normal leading-normal"><span class="font-semibold">New message</span> from Laur</h6>
                          <p class="mb-0 text-xs leading-tight text-slate-400">
                            <i class="mr-1 fa fa-clock"></i>
                            13 minutes ago
                          </p>
                        </div>
                      </div>
                    </a>
                  </li>

                  <li class="relative mb-2">
                    <a class="ease-soft py-1.2 clear-both block w-full whitespace-nowrap rounded-lg px-4 transition-colors duration-300 hover:bg-gray-200 hover:text-slate-700" href="javascript:;">
                      <div class="flex py-1">
                        <div class="my-auto">
                          <img src="/static/assets/img/small-logos/logo-spotify.svg" class="inline-flex items-center justify-center mr-4 text-sm text-white bg-gradient-to-tl from-gray-900 to-slate-800 h-9 w-9 max-w-none rounded-xl" />
                        </div>
                        <div class="flex flex-col justify-center">
                          <h6 class="mb-1 text-sm font-normal leading-normal"><span class="font-semibold">New album</span> by Travis Scott</h6>
                          <p class="mb-0 text-xs leading-tight text-slate-400">
                            <i class="mr-1 fa fa-clock"></i>
                            1 day
                          </p>
                        </div>
                      </div>
                    </a>
                  </li>

                  <li class="relative">
                    <a class="ease-soft py-1.2 clear-both block w-full whitespace-nowrap rounded-lg px-4 transition-colors duration-300 hover:bg-gray-200 hover:text-slate-700" href="javascript:;">
                      <div class="flex py-1">
                        <div class="inline-flex items-center justify-center my-auto mr-4 text-sm text-white transition-all duration-200 ease-nav-brand bg-gradient-to-tl from-slate-600 to-slate-300 h-9 w-9 rounded-xl">
                          <svg width="12px" height="12px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>credit-card</title>
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                <g transform="translate(1716.000000, 291.000000)">
                                  <g transform="translate(453.000000, 454.000000)">
                                    <path class="color-background" d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z" opacity="0.593633743"></path>
                                    <path class="color-background" d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z"></path>
                                  </g>
                                </g>
                              </g>
                            </g>
                          </svg>
                        </div>
                        <div class="flex flex-col justify-center">
                          <h6 class="mb-1 text-sm font-normal leading-normal">Payment successfully completed</h6>
                          <p class="mb-0 text-xs leading-tight text-slate-400">
                            <i class="mr-1 fa fa-clock"></i>
                            2 days
                          </p>
                        </div>
                      </div>
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- end Navbar -->
      <!-- TradingView Widget BEGIN -->
      <div class="tradingview-widget-container">
        <div class="tradingview-widget-container__widget"></div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
        {
          "symbols": [
          {% for pair in pairs %}
          {
            "description": "{{pair.symbol}}",
            "proName": "FX:{{pair.symbol}}"
          },
          {% endfor %}
          {
            "description": "EURUSD",
            "proName": "FX:EURUSD"
          }
          ],
          "showSymbolLogo": true,
          "colorTheme": "light",
          "isTransparent": true,
          "displayMode": "adaptive",
          "locale": "en"
        }
        </script>
      </div>
      <!-- TradingView Widget END -->
      <!-- cards -->  

        <div class="flex flex-wrap mt-6 -mx-3">
          <div class="w-full max-w-full px-3 mt-0 mb-6 lg:mb-0 lg:w-5/12 lg:flex-none">
            <div style="background: repeating-linear-gradient(45deg, #afb2c7, rgb(203, 240, 214),  #d9f7ff,  #f7f5ff,  #63515f);" class="border-black/12.6 shadow-soft-xl relative z-20 flex min-w-0 flex-col break-words rounded-2xl border-0 border-solid bg-white bg-clip-border">
              <div class="flex-auto p-4">
                <div
                  id="line-candle"
                  class="inline-flex rounded-md shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]"
                  role="group">
                  <!-- TradingView Widget BEGIN -->
                  <div class="tradingview-widget-container" style="margin-top: -15px;">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js" async>
                    {
                    "symbol": "FX:{{symbol}}",
                    "width": "350",
                    "colorTheme": "light",
                    "isTransparent": true,
                    "locale": "en",
                    "largeChartUrl": "http://www.google.com"
                  }
                    </script>
                  </div>
                  <!-- TradingView Widget END -->
                  {% with symbol=symbol %}
                  <a href="{% url 'options' symbol=symbol %}">
                  <button
                    type="button"
                    class="inline-block bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-primary-600 focus:bg-primary-600 focus:outline-none focus:ring-0 active:bg-primary-700"
                    data-te-ripple-init
                    style="border-top-left-radius: 15%; border-bottom-left-radius: 15%;"
                    data-te-ripple-color="light">
                    Line
                    <img src="/static/img/process-icons/line.png" class="btn-img">
                  </button>
                  </a>
                  <a href="{% url 'candle_options' symbol=symbol %}">
                  <button
                    type="button"
                    class="inline-block rounded-r bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-primary-600 focus:bg-primary-600 focus:outline-none focus:ring-0 active:bg-primary-700"
                    data-te-ripple-init
                    style="border-top-right-radius: 15%; border-bottom-right-radius: 15%;"
                    data-te-ripple-color="light">
                    Candle
                    <img src="/static/img/process-icons/candle.png" class="btn-img">
                  </button>
                  </a>
                  {% endwith %}
                </div>
                <div id="chart-gradient" class="py-4 pr-1 mb-4 bg-gradient-to-tl from-gray-900 to-slate-800 rounded-xl">
                  <!-- TradingView Widget BEGIN -->
                  <div class="tradingview-widget-container">
                    <div id="tradingview_b03ed"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
                    <script type="text/javascript">
                    new TradingView.widget(
                    {
                    "width": "820",
                    "height": "700",
                    "symbol": "FX_IDC:{{symbol}}",
                    "interval": "1",
                    "timezone": "Etc/UTC",
                    "theme": "dark",
                    "style": "1",
                    "locale": "en",
                    "enable_publishing": false,
                    "backgroundColor": "#040426",
                    "hide_top_toolbar": true,
                    "hide_legend": true,
                    "save_image": false,
                    "hide_volume": true,
                    "container_id": "tradingview_b03ed"
                  }
                    );
                    </script>
                  </div>
                  <!-- TradingView Widget END -->
                </div>
                <h6 class="mt-6 mb-0 ml-2">Active Users</h6>
                <p class="ml-2 text-sm leading-normal">(<span class="font-bold">+23%</span>) than last week</p>
                <div class="whitespace-nowrap px-4 py-2 text-gray-700" style="display: none;">
                  <span id="countdown-timer"></span>
                </div>
                <div class="w-full px-6 mx-auto max-w-screen-2xl rounded-xl">
                  <div class="flex flex-wrap mt-0 -mx-3">
                    <div class="flex-none w-1/4 max-w-full py-4 pl-0 pr-3 mt-0">
                      <div class="flex mb-2">
                        <div class="flex items-center justify-center w-5 h-5 mr-2 text-center bg-center rounded fill-current shadow-soft-2xl bg-gradient-to-tl from-purple-700 to-pink-500 text-neutral-900">
                          <svg width="10px" height="10px" viewBox="0 0 40 44" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>document</title>
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g transform="translate(-1870.000000, -591.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                <g transform="translate(1716.000000, 291.000000)">
                                  <g transform="translate(154.000000, 300.000000)">
                                    <path class="color-background" d="M40,40 L36.3636364,40 L36.3636364,3.63636364 L5.45454545,3.63636364 L5.45454545,0 L38.1818182,0 C39.1854545,0 40,0.814545455 40,1.81818182 L40,40 Z" opacity="0.603585379"></path>
                                    <path class="color-background" d="M30.9090909,7.27272727 L1.81818182,7.27272727 C0.814545455,7.27272727 0,8.08727273 0,9.09090909 L0,41.8181818 C0,42.8218182 0.814545455,43.6363636 1.81818182,43.6363636 L30.9090909,43.6363636 C31.9127273,43.6363636 32.7272727,42.8218182 32.7272727,41.8181818 L32.7272727,9.09090909 C32.7272727,8.08727273 31.9127273,7.27272727 30.9090909,7.27272727 Z M18.1818182,34.5454545 L7.27272727,34.5454545 L7.27272727,30.9090909 L18.1818182,30.9090909 L18.1818182,34.5454545 Z M25.4545455,27.2727273 L7.27272727,27.2727273 L7.27272727,23.6363636 L25.4545455,23.6363636 L25.4545455,27.2727273 Z M25.4545455,20 L7.27272727,20 L7.27272727,16.3636364 L25.4545455,16.3636364 L25.4545455,20 Z"></path>
                                  </g>
                                </g>
                              </g>
                            </g>
                          </svg>
                        </div>
                        <p class="mt-1 mb-0 text-xs font-semibold leading-tight">Users</p>
                      </div>
                      <h4 class="font-bold">36K</h4>
                      <div class="text-xs h-0.75 flex w-3/4 overflow-visible rounded-lg bg-gray-200">
                        <div class="duration-600 ease-soft -mt-0.38 -ml-px flex h-1.5 w-3/5 flex-col justify-center overflow-hidden whitespace-nowrap rounded-lg bg-slate-700 text-center text-white transition-all" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="flex-none w-1/4 max-w-full py-4 pl-0 pr-3 mt-0">
                      <div class="flex mb-2">
                        <div class="flex items-center justify-center w-5 h-5 mr-2 text-center bg-center rounded fill-current shadow-soft-2xl bg-gradient-to-tl from-blue-600 to-cyan-400 text-neutral-900">
                          <svg width="10px" height="10px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>spaceship</title>
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g transform="translate(-1720.000000, -592.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                <g transform="translate(1716.000000, 291.000000)">
                                  <g transform="translate(4.000000, 301.000000)">
                                    <path
                                      class="color-background"
                                      d="M39.3,0.706666667 C38.9660984,0.370464027 38.5048767,0.192278529 38.0316667,0.216666667 C14.6516667,1.43666667 6.015,22.2633333 5.93166667,22.4733333 C5.68236407,23.0926189 5.82664679,23.8009159 6.29833333,24.2733333 L15.7266667,33.7016667 C16.2013871,34.1756798 16.9140329,34.3188658 17.535,34.065 C17.7433333,33.98 38.4583333,25.2466667 39.7816667,1.97666667 C39.8087196,1.50414529 39.6335979,1.04240574 39.3,0.706666667 Z M25.69,19.0233333 C24.7367525,19.9768687 23.3029475,20.2622391 22.0572426,19.7463614 C20.8115377,19.2304837 19.9992882,18.0149658 19.9992882,16.6666667 C19.9992882,15.3183676 20.8115377,14.1028496 22.0572426,13.5869719 C23.3029475,13.0710943 24.7367525,13.3564646 25.69,14.31 C26.9912731,15.6116662 26.9912731,17.7216672 25.69,19.0233333 L25.69,19.0233333 Z"
                                    ></path>
                                    <path class="color-background" d="M1.855,31.4066667 C3.05106558,30.2024182 4.79973884,29.7296005 6.43969145,30.1670277 C8.07964407,30.6044549 9.36054508,31.8853559 9.7979723,33.5253085 C10.2353995,35.1652612 9.76258177,36.9139344 8.55833333,38.11 C6.70666667,39.9616667 0,40 0,40 C0,40 0,33.2566667 1.855,31.4066667 Z"></path>
                                    <path class="color-background" d="M17.2616667,3.90166667 C12.4943643,3.07192755 7.62174065,4.61673894 4.20333333,8.04166667 C3.31200265,8.94126033 2.53706177,9.94913142 1.89666667,11.0416667 C1.5109569,11.6966059 1.61721591,12.5295394 2.155,13.0666667 L5.47,16.3833333 C8.55036617,11.4946947 12.5559074,7.25476565 17.2616667,3.90166667 L17.2616667,3.90166667 Z" opacity="0.598539807"></path>
                                    <path class="color-background" d="M36.0983333,22.7383333 C36.9280725,27.5056357 35.3832611,32.3782594 31.9583333,35.7966667 C31.0587397,36.6879974 30.0508686,37.4629382 28.9583333,38.1033333 C28.3033941,38.4890431 27.4704606,38.3827841 26.9333333,37.845 L23.6166667,34.53 C28.5053053,31.4496338 32.7452344,27.4440926 36.0983333,22.7383333 L36.0983333,22.7383333 Z" opacity="0.598539807"></path>
                                  </g>
                                </g>
                              </g>
                            </g>
                          </svg>
                        </div>
                        <p class="mt-1 mb-0 text-xs font-semibold leading-tight">Clicks</p>
                      </div>
                      <h4 class="font-bold">2m</h4>
                      <div class="text-xs h-0.75 flex w-3/4 overflow-visible rounded-lg bg-gray-200">
                        <div class="duration-600 ease-soft -mt-0.38 w-9/10 -ml-px flex h-1.5 flex-col justify-center overflow-hidden whitespace-nowrap rounded-lg bg-slate-700 text-center text-white transition-all" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="flex-none w-1/4 max-w-full py-4 pl-0 pr-3 mt-0">
                      <div class="flex mb-2">
                        <div class="flex items-center justify-center w-5 h-5 mr-2 text-center bg-center rounded fill-current shadow-soft-2xl bg-gradient-to-tl from-red-500 to-yellow-400 text-neutral-900">
                          <svg width="10px" height="10px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>credit-card</title>
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                <g transform="translate(1716.000000, 291.000000)">
                                  <g transform="translate(453.000000, 454.000000)">
                                    <path class="color-background" d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z" opacity="0.593633743"></path>
                                    <path class="color-background" d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z"></path>
                                  </g>
                                </g>
                              </g>
                            </g>
                          </svg>
                        </div>
                        <p class="mt-1 mb-0 text-xs font-semibold leading-tight">Sales</p>
                      </div>
                      <h4 class="font-bold">435$</h4>
                      <div class="text-xs h-0.75 flex w-3/4 overflow-visible rounded-lg bg-gray-200">
                        <div class="duration-600 ease-soft -mt-0.38 w-3/10 -ml-px flex h-1.5 flex-col justify-center overflow-hidden whitespace-nowrap rounded-lg bg-slate-700 text-center text-white transition-all" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="flex-none w-1/4 max-w-full py-4 pl-0 pr-3 mt-0">
                      <div class="flex mb-2">
                        <div class="flex items-center justify-center w-5 h-5 mr-2 text-center bg-center rounded fill-current shadow-soft-2xl bg-gradient-to-tl from-red-600 to-rose-400 text-neutral-900">
                          <svg width="10px" height="10px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <title>settings</title>
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g transform="translate(-2020.000000, -442.000000)" fill="#FFFFFF" fill-rule="nonzero">
                                <g transform="translate(1716.000000, 291.000000)">
                                  <g transform="translate(304.000000, 151.000000)">
                                    <polygon class="color-background" opacity="0.596981957" points="18.0883333 15.7316667 11.1783333 8.82166667 13.3333333 6.66666667 6.66666667 0 0 6.66666667 6.66666667 13.3333333 8.82166667 11.1783333 15.315 17.6716667"></polygon>
                                    <path class="color-background" d="M31.5666667,23.2333333 C31.0516667,23.2933333 30.53,23.3333333 30,23.3333333 C29.4916667,23.3333333 28.9866667,23.3033333 28.48,23.245 L22.4116667,30.7433333 L29.9416667,38.2733333 C32.2433333,40.575 35.9733333,40.575 38.275,38.2733333 L38.275,38.2733333 C40.5766667,35.9716667 40.5766667,32.2416667 38.275,29.94 L31.5666667,23.2333333 Z" opacity="0.596981957"></path>
                                    <path class="color-background" d="M33.785,11.285 L28.715,6.215 L34.0616667,0.868333333 C32.82,0.315 31.4483333,0 30,0 C24.4766667,0 20,4.47666667 20,10 C20,10.99 20.1483333,11.9433333 20.4166667,12.8466667 L2.435,27.3966667 C0.95,28.7083333 0.0633333333,30.595 0.00333333333,32.5733333 C-0.0583333333,34.5533333 0.71,36.4916667 2.11,37.89 C3.47,39.2516667 5.27833333,40 7.20166667,40 C9.26666667,40 11.2366667,39.1133333 12.6033333,37.565 L27.1533333,19.5833333 C28.0566667,19.8516667 29.01,20 30,20 C35.5233333,20 40,15.5233333 40,10 C40,8.55166667 39.685,7.18 39.1316667,5.93666667 L33.785,11.285 Z"></path>
                                  </g>
                                </g>
                              </g>
                            </g>
                          </svg>
                        </div>
                        <p class="mt-1 mb-0 text-xs font-semibold leading-tight">Items</p>
                      </div>
                      <h4 class="font-bold">43</h4>
                      <div class="text-xs h-0.75 flex w-3/4 overflow-visible rounded-lg bg-gray-200">
                        <div class="duration-600 ease-soft -mt-0.38 -ml-px flex h-1.5 w-1/2 flex-col justify-center overflow-hidden whitespace-nowrap rounded-lg bg-slate-700 text-center text-white transition-all" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <footer class="pt-4">
            <div class="w-full px-6 mx-auto">
              <div class="flex flex-wrap items-center -mx-3 lg:justify-between">
                <div class="w-full max-w-full px-3 mt-0 mb-6 shrink-0 lg:mb-0 lg:w-1/2 lg:flex-none">
                  <div class="text-sm leading-normal text-center text-slate-500 lg:text-left">
                    Â©
                    <script>
                      document.write(new Date().getFullYear() + ",");
                    </script>
                    made with <i class="fa fa-heart"></i> by
                    <a href="{% url 'privacy_policy' %}" class="font-semibold text-slate-700" target="_blank">Privary Policy/a>
                    
                  </div>
                </div>
                <div class="w-full max-w-full px-3 mt-0 shrink-0 lg:w-1/2 lg:flex-none">
                  <ul class="flex flex-wrap justify-center pl-0 mb-0 list-none lg:justify-end">
                    <li class="nav-item">
                      <a href="{% url 'user_agreement' %}" class="block px-4 pt-0 pb-1 text-sm font-normal transition-colors ease-soft-in-out text-slate-500" target="_blank">User Agreement</a>
                    </li>
                    <li class="nav-item">
                      <a href="{% url 'about_us' %}" class="block px-4 pt-0 pb-1 text-sm font-normal transition-colors ease-soft-in-out text-slate-500" target="_blank">About Us</a>
                    </li>
                    <li class="nav-item">
                      <a href="" class="block px-4 pt-0 pb-1 text-sm font-normal transition-colors ease-soft-in-out text-slate-500" target="_blank">News</a>
                    </li>
                    <li class="nav-item">
                      <a href="" class="block px-4 pt-0 pb-1 pr-0 text-sm font-normal transition-colors ease-soft-in-out text-slate-500" target="_blank">Support</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </footer>
        </div>
      <!-- end cards -->
    </main>
    <div fixed-plugin>
      <a fixed-plugin-button class="bottom-7.5 right-7.5 text-xl z-990 shadow-soft-lg rounded-circle fixed cursor-pointer bg-white px-4 py-2 text-slate-700">
        <i class="py-2 pointer-events-none fa fa-cog"> </i>
      </a>
      <!-- -right-90 in loc de 0-->
      <div fixed-plugin-card class="z-sticky shadow-soft-3xl w-90 ease-soft -right-90 fixed top-0 left-auto flex h-full min-w-0 flex-col break-words rounded-none border-0 bg-white bg-clip-border px-2.5 duration-200">
        <div class="px-6 pt-4 pb-0 mb-0 bg-white border-b-0 rounded-t-2xl">
          <div class="float-left">
            <h5 class="mt-4 mb-0">Soft UI Configurator</h5>
            <p>See our dashboard options.</p>
          </div>
          <div class="float-right mt-6">
            <button fixed-plugin-close-button class="inline-block p-0 mb-4 text-xs font-bold text-center uppercase align-middle transition-all bg-transparent border-0 rounded-lg shadow-none cursor-pointer hover:scale-102 leading-pro ease-soft-in tracking-tight-soft bg-150 bg-x-25 active:opacity-85 text-slate-700">
              <i class="fa fa-close"></i>
            </button>
          </div>
          <!-- End Toggle Button -->
        </div>
        <hr class="h-px mx-0 my-1 bg-transparent bg-gradient-to-r from-transparent via-black/40 to-transparent" />
        <div class="flex-auto p-6 pt-0 sm:pt-4">
          <!-- Sidebar Backgrounds -->
          <div>
            <h6 class="mb-0">Sidebar Colors</h6>
          </div>
          <a href="javascript:void(0)">
            <div class="my-2 text-left" sidenav-colors>
              <span class="text-xs rounded-circle h-5.75 mr-1.25 w-5.75 ease-soft-in-out bg-gradient-to-tl from-purple-700 to-pink-500 relative inline-block cursor-pointer whitespace-nowrap border border-solid border-slate-700 text-center align-baseline font-bold uppercase leading-none text-white transition-all duration-200 hover:border-slate-700" active-color data-color-from="purple-700" data-color-to="pink-500" onclick="sidebarColor(this)"></span>
              <span class="text-xs rounded-circle h-5.75 mr-1.25 w-5.75 ease-soft-in-out bg-gradient-to-tl from-gray-900 to-slate-800 relative inline-block cursor-pointer whitespace-nowrap border border-solid border-white text-center align-baseline font-bold uppercase leading-none text-white transition-all duration-200 hover:border-slate-700" data-color-from="gray-900" data-color-to="slate-800" onclick="sidebarColor(this)"></span>
              <span class="text-xs rounded-circle h-5.75 mr-1.25 w-5.75 ease-soft-in-out bg-gradient-to-tl from-blue-600 to-cyan-400 relative inline-block cursor-pointer whitespace-nowrap border border-solid border-white text-center align-baseline font-bold uppercase leading-none text-white transition-all duration-200 hover:border-slate-700" data-color-from="blue-600" data-color-to="cyan-400" onclick="sidebarColor(this)"></span>
              <span class="text-xs rounded-circle h-5.75 mr-1.25 w-5.75 ease-soft-in-out bg-gradient-to-tl from-green-600 to-lime-400 relative inline-block cursor-pointer whitespace-nowrap border border-solid border-white text-center align-baseline font-bold uppercase leading-none text-white transition-all duration-200 hover:border-slate-700" data-color-from="green-600" data-color-to="lime-400" onclick="sidebarColor(this)"></span>
              <span class="text-xs rounded-circle h-5.75 mr-1.25 w-5.75 ease-soft-in-out bg-gradient-to-tl from-red-500 to-yellow-400 relative inline-block cursor-pointer whitespace-nowrap border border-solid border-white text-center align-baseline font-bold uppercase leading-none text-white transition-all duration-200 hover:border-slate-700" data-color-from="red-500" data-color-to="yellow-400" onclick="sidebarColor(this)"></span>
              <span class="text-xs rounded-circle h-5.75 mr-1.25 w-5.75 ease-soft-in-out bg-gradient-to-tl from-red-600 to-rose-400 relative inline-block cursor-pointer whitespace-nowrap border border-solid border-white text-center align-baseline font-bold uppercase leading-none text-white transition-all duration-200 hover:border-slate-700" data-color-from="red-600" data-color-to="rose-400" onclick="sidebarColor(this)"></span>
            </div>
          </a>
          <!-- Sidenav Type -->
          <div class="mt-4">
            <h6 class="mb-0">Sidenav Type</h6>
            <p class="text-sm leading-normal">Choose between 2 different sidenav types.</p>
          </div>
          <div class="flex">
            <button transparent-style-btn class="inline-block w-full px-4 py-3 mb-2 text-xs font-bold text-center text-white uppercase align-middle transition-all border border-transparent border-solid rounded-lg cursor-pointer xl-max:cursor-not-allowed xl-max:opacity-65 xl-max:pointer-events-none xl-max:bg-gradient-to-tl xl-max:from-purple-700 xl-max:to-pink-500 xl-max:text-white xl-max:border-0 hover:scale-102 hover:shadow-soft-xs active:opacity-85 leading-pro ease-soft-in tracking-tight-soft shadow-soft-md bg-150 bg-x-25 bg-gradient-to-tl from-purple-700 to-pink-500 bg-fuchsia-500 hover:border-fuchsia-500" data-class="bg-transparent" active-style>Transparent</button>
            <button white-style-btn class="inline-block w-full px-4 py-3 mb-2 ml-2 text-xs font-bold text-center uppercase align-middle transition-all bg-transparent border border-solid rounded-lg cursor-pointer xl-max:cursor-not-allowed xl-max:opacity-65 xl-max:pointer-events-none xl-max:bg-gradient-to-tl xl-max:from-purple-700 xl-max:to-pink-500 xl-max:text-white xl-max:border-0 hover:scale-102 hover:shadow-soft-xs active:opacity-85 leading-pro ease-soft-in tracking-tight-soft shadow-soft-md bg-150 bg-x-25 border-fuchsia-500 bg-none text-fuchsia-500 hover:border-fuchsia-500" data-class="bg-white">White</button>
          </div>
          <p class="block mt-2 text-sm leading-normal xl:hidden">You can change the sidenav type just on desktop view.</p>
          <!-- Navbar Fixed -->
          <div class="mt-4">
            <h6 class="mb-0">Navbar Fixed</h6>
          </div>
          <div class="min-h-6 mb-0.5 block pl-0">
            <input navbarFixed class="rounded-10 duration-250 ease-soft-in-out after:rounded-circle after:shadow-soft-2xl after:duration-250 checked:after:translate-x-5.25 h-5 relative float-left mt-1 ml-auto w-10 cursor-pointer appearance-none border border-solid border-gray-200 bg-slate-800/10 bg-none bg-contain bg-left bg-no-repeat align-top transition-all after:absolute after:top-px after:h-4 after:w-4 after:translate-x-px after:bg-white after:content-[''] checked:border-slate-800/95 checked:bg-slate-800/95 checked:bg-none checked:bg-right" type="checkbox" />
          </div>
          <hr class="h-px bg-transparent bg-gradient-to-r from-transparent via-black/40 to-transparent sm:my-6" />
          <a class="inline-block w-full px-6 py-3 mb-4 text-xs font-bold text-center text-white uppercase align-middle transition-all bg-transparent border-0 rounded-lg cursor-pointer leading-pro ease-soft-in hover:shadow-soft-xs hover:scale-102 active:opacity-85 tracking-tight-soft shadow-soft-md bg-150 bg-x-25 bg-gradient-to-tl from-gray-900 to-slate-800" href="https://www.creative-tim.com/product/soft-ui-dashboard-tailwind" target="_blank">Free Download</a>
          <a class="inline-block w-full px-6 py-3 mb-4 text-xs font-bold text-center uppercase align-middle transition-all bg-transparent border border-solid rounded-lg shadow-none cursor-pointer active:shadow-soft-xs hover:scale-102 active:opacity-85 leading-pro ease-soft-in tracking-tight-soft bg-150 bg-x-25 border-slate-700 text-slate-700 hover:bg-transparent hover:text-slate-700 hover:shadow-none active:bg-slate-700 active:text-white active:hover:bg-transparent active:hover:text-slate-700 active:hover:shadow-none" href="https://www.creative-tim.com/learning-lab/tailwind/html/quick-start/soft-ui-dashboard/" target="_blank">View documentation</a>
          <div class="w-full text-center">
            <a class="github-button" href="https://github.com/creativetimofficial/soft-ui-dashboard-tailwind" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star creativetimofficial/soft-ui-dashboard on GitHub">Star</a>
            <h6 class="mt-4">Thank you for sharing!</h6>
            <a href="https://twitter.com/intent/tweet?text=Check%20Soft%20UI%20Dashboard%20Tailwind%20made%20by%20%40CreativeTim&hashtags=webdesign,dashboard,tailwindcss&amp;url=https%3A%2F%2Fwww.creative-tim.com%2Fproduct%2Fsoft-ui-dashboard-tailwind" class="inline-block px-6 py-3 mb-0 mr-2 text-xs font-bold text-center text-white uppercase align-middle transition-all border-0 rounded-lg cursor-pointer hover:shadow-soft-xs hover:scale-102 active:opacity-85 leading-pro ease-soft-in tracking-tight-soft shadow-soft-md bg-150 bg-x-25 me-2 border-slate-700 bg-slate-700" target="_blank"> <i class="mr-1 fab fa-twitter"></i> Tweet </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.creative-tim.com/product/soft-ui-dashboard-tailwind" class="inline-block px-6 py-3 mb-0 mr-2 text-xs font-bold text-center text-white uppercase align-middle transition-all border-0 rounded-lg cursor-pointer hover:shadow-soft-xs hover:scale-102 active:opacity-85 leading-pro ease-soft-in tracking-tight-soft shadow-soft-md bg-150 bg-x-25 me-2 border-slate-700 bg-slate-700" target="_blank"> <i class="mr-1 fab fa-facebook-square"></i> Share </a>
          </div>
        </div>
      </div>
    </div>
    <!-- sidenav  -->
    <aside style="background: repeating-linear-gradient(45deg, #afb2c7, rgb(203, 240, 214),  #d9f7ff,  #f7f5ff,  #63515f);" class="max-w-62.5 ease-nav-brand z-990 fixed inset-y-0 my-4 ml-4 block w-full -translate-x-full flex-wrap items-center justify-between overflow-y-auto rounded-2xl border-0 bg-white p-0 antialiased shadow-none transition-transform duration-200 xl:right-0 xl:translate-x-0 xl:bg-transparent">
      <div class="h-19.5">
        <i class="absolute top-0 right-0 hidden p-4 opacity-50 cursor-pointer fas fa-times text-slate-400 xl:hidden" sidenav-close></i>
        <p class="mb-0 font-sans text-sm font-semibold leading-normal uppercase dark:text-white dark:opacity-60"><div class="dropdown">
          <button class="dropbtn">Demo Account:$<span id="demo-account-balance">{{demo_account_balance}}</span></button>
          <div class="dropdown-content">
            <a href="#">Live Account</a>
          </div>
          </div>
        </p>
      </div>

      <hr class="h-px mt-0 bg-transparent bg-gradient-to-r from-transparent via-black/40 to-transparent" />

      <div class="items-center block w-auto max-h-screen overflow-auto h-sidenav grow basis-full">
        <ul class="flex flex-col pl-0 mb-0">
          <li class="mt-0.5 w-full" id="trade-list"></li>
          <div class="flex-auto p-4" style="display: none;">
            <div class="flex flex-row -mx-3">
              <div class="flex-none w-2/3 max-w-full px-3">
                <div>
                  <table style="width: 100%;">
                    <tr>
                      <td id="trade-symbol" class="text-left font-sans text-sm font-semibold leading-normal">EURUSD</td>
                      <td id="trade-type" style="color: green;" class="text-right font-sans text-sm font-semibold leading-normal">CALL</td>
                    </tr>
                    <tr>
                      <td id="trade-stake" class="text-left font-bold">
                        1
                      </td>
                      <td id="trade-exp" class="whitespace-nowrap px-4 py-2 text-gray-700">1 mins</td>			  
                    </tr>
                    <tr>
                      <td id="trade-symbol" class="text-left font-sans text-sm font-semibold leading-normal">Expire:</td>
                      <td id="trade-type" style="color: red;" class="text-right font-sans text-sm font-semibold leading-normal">2</td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
          </div>
          {% for trade in trades %}
          
            <div class="flex-auto p-4">
              <div class="flex flex-row -mx-3">
                <div class="flex-none w-2/3 max-w-full px-3">
                  <div>
                    <table style="width: 100%;">
                      <tr>
                        <td id="trade-symbol" class="text-left font-sans text-sm font-semibold leading-normal">{{trade.symbol}}</td>
                        {% if trade.option_type == 'CALL' %}
                        <td id="trade-type" style="color: green;" class="text-right font-sans text-sm font-semibold leading-normal">{{trade.option_type}}</td>
                        {% else %}
                        <td id="trade-type" style="color: red;" class="text-right font-sans text-sm font-semibold leading-normal">{{trade.option_type}}</td>
                        {% endif %}
                      </tr>
                      <tr>
                        <td id="trade-stake" class="text-left font-bold">
                          {{trade.stake}}
                        </td>
                        <td id="trade-exp" class="whitespace-nowrap px-4 py-2 text-gray-700">{{trade.expiration}} mins</td>			  
                      </tr>
                      <tr>
                        <td id="trade-symbol" class="text-left font-sans text-sm font-semibold leading-normal">Expire:</td>
                        <td id="trade-type" style="color: red;" class="text-right font-sans text-sm font-semibold leading-normal">{{ trade.countdown|slice:":8" }}</td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </li>
          {% endfor %}

          <li class="w-full mt-4">
            <h5 class="pl-6 ml-2 text-xs font-bold leading-tight uppercase opacity-60">Expired Trades</h5>
          </li>

          {% for closed_trade in closed_trades %}
        
          <li class="mt-0.5 w-full">
            <div class="flex-auto p-4">
              <div class="py-2.7 shadow-soft-xl text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap rounded-lg bg-white px-4 font-semibold text-slate-700 transition-colors">
                <div class="flex-none w-2/3 max-w-full px-3">
                  <div>
                    <table style="width: 100%;">
                      <tr>
                        <td class="text-left font-sans text-sm font-semibold leading-normal">{{closed_trade.symbol}}</td>
                        <td class="text-right font-sans text-sm font-semibold leading-normal">{{closed_trade.option_type}}</td>
                      </tr>
                      <tr>
                        <td class="text-left font-bold">
                          {{closed_trade.stake}}
                        </td>
                        <td class="text-right font-bold">
                          {% if closed_trade.outcome == 'lost' %}
                          <span style="color: red;" class="text-sm leading-normal font-weight-bolder text-lime-500"> {{closed_trade.outcome}}</span>
                          {% else %}
                          <span class="text-sm leading-normal font-weight-bolder text-lime-500"> {{closed_trade.outcome}}</span>
                          {% endif %}
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </li>
          {% endfor %}
        </ul>
      </div>

      <div class="mx-4">
        <!-- load phantom colors for card after: -->
        <p class="invisible hidden text-gray-800 text-red-500 text-red-600 after:bg-gradient-to-tl after:from-gray-900 after:to-slate-800 after:from-blue-600 after:to-cyan-400 after:from-red-500 after:to-yellow-400 after:from-green-600 after:to-lime-400 after:from-red-600 after:to-rose-400 after:from-slate-600 after:to-slate-300 text-lime-500 text-cyan-500 text-slate-400 text-fuchsia-500"></p>
        <div class="after:opacity-65 after:bg-gradient-to-tl after:from-slate-600 after:to-slate-300 relative flex min-w-0 flex-col items-center break-words rounded-2xl border-0 border-solid border-blue-900 bg-white bg-clip-border shadow-none after:absolute after:top-0 after:bottom-0 after:left-0 after:z-10 after:block after:h-full after:w-full after:rounded-2xl after:content-['']" sidenav-card>
          <div class="mb-7.5 absolute h-full w-full rounded-2xl bg-cover bg-center" style="background-image: url('/static/assets/img/curved-images/white-curved.jpeg')"></div>
          <div class="relative z-20 flex-auto w-full p-4 text-left text-white">
            <form id="trade-form" method="post" action="{% url 'place_option_trade' option_type='PUT' %}">
              {% csrf_token %}
              <div class="inputs">
              {% if 'pair' in request.resolver_match.url_name %}
              <div class="input-group" style="display: none;">
                <label for="symbol">Symbol:</label>
                <input type="text" id="symbol" name="symbol" value="{{currency_pair}}">
                </div>
                {% else %}
                <div class="input-group" style="display: none;">
                <label for="symbol">Symbol:</label>
                <input type="text" id="symbol" name="symbol" value="{{symbol}}">
              </div>
              {% endif %}

              <div class="input-group">
                <label for="stake">Stake:</label>
                <input style="color: black; width: 130px;" type="number" id="stake" name="stake" placeholder="Enter Stake" required>
              </div>
              <div  class="input-group">
    
                <label for="expiration">Expiration:</label>
                
                <select style="color: black;" id="expiration" name="expiration">
                  <option value="1">1 minute</option>
                  <option value="2">2 minutes</option> 
                  <option value="5">5 minutes</option>
                  <option value="15">15 minutes</option>
                  <option value="30">30 minutes</option>
                </select>
                </div>
              </div>
              
            <div class="transition-all duration-200 ease-nav-brand">
              <div class="buttons flex flex-col">
                <div class="buy-button" style="width: 100px;">
                <button style="background: linear-gradient(0deg, #00c41a, #82fcd7 50px);"  type="button" target="_blank" class="call-btn bg-green-500 text-white flex items-center justify-between px-4 py-2 rounded">CALL
                  <svg style="margin-left: 5px;" width="20" height="20" fill="white" viewBox="0 0 20 20">
                    <path d="M2 12l8-4 8 4M2 8l8-4 8 4" stroke="white" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </button>
                </div>
                <div class="sell-button" style="width: 140px;">
                  <button style="background: linear-gradient(45deg, #ff0000, #fd9c9c 50px);" type="button" target="_blank" class="put-btn bg-red-500 text-white flex items-center justify-between px-4 py-2 rounded mt-2" target="_blank">PUT   
                    <svg style="margin-left: 11px;" width="20" height="20" fill="white" viewBox="0 0 20 20">
                      <path d="M2 8l8 4 8-4M2 12l8 4 8-4" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </aside>

    <!--====== Javascripts & Jquery ======-->
    <script src="/static/js/jquery-3.2.1.min.js"></script>
    <script src="/static/js/owl.carousel.min.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://www.tradingview.com/static/lightweight-charts.standalone.production.js"></script>


    <!-- Place this script block at the end of your trading.html, before the closing </body> tag -->
    <script>
    // Selectors
    const form = $('#trade-form');
    const buyBtn = $('.buy-button'); 
    const sellBtn = $('.sell-button');

    const csrfToken = jQuery("[name=csrfmiddlewaretoken]").val();
    // Target price to draw line at

    const targetPrice = 520;
    const chartData = {{ candle_data|safe }};
    let strikePrice = chartData[chartData.length - 1].close;
    let strikeTime = chartData[chartData.length - 1].time;
    let strikeTimeMs = strikeTime * 1000;
    const Markers = [];
    const expiryTime = "2118-12-29";

    // Time range calculation
    const calculateDataRange = (data) => {
      return {
        from: data[0].time / 1000,
        to: data[data.length - 1].time / 1000
      };
    }

    const range = calculateDataRange(chartData);

    // Define the tickFormatter function
    const tickMarkFormatter = (unix) => {
      const date = new Date(unix * 1000);
      return date.getHours() + ':00';
    };
    
    const formatters = {
      Dollar: function(price) { return '' + price.toFixed(5); },
      Pound: function(price) { return '\u00A3' + price.toFixed(5); },
    };
    const formatterNames = Object.keys(formatters);

      document.addEventListener('DOMContentLoaded', function() {

        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
            width: 820,
            height: 700,
            layout: {
              backgroundColor: '#040426', // Dark blue background color for the chart area
            },
            timeScale: {
            setAutoScale: false,
            timeVisible: true,
            secondsVisible: false,
            ticksVisible: true, // Show ticks
            rightOffset: 20, // Optional: Adjust the offset for better visibility
            setVisibleLogicalRange: range,
            setTimeUnit: 2,
            setTickInterval: 60 * 60 * 1000,
            setTickMarkFormatter: tickMarkFormatter, // Use the tickFormatter function
                },
            rightPriceScale: {
              priceFormatter: formatters,
              scaleMargins: {
                top: 0.4, // leave some space for the legend
                bottom: 0.15,
              },
            },
            crosshair: {
              mode: LightweightCharts.CrosshairMode.Normal,
              // hide the horizontal crosshair line
              horzLine: {
                visible: false,
                labelVisible: false,
              },
            },
            localization: {
              priceFormatter: formatters[formatterNames[0]],
            },
      });
      // Dark theme options
      const darkTheme = {
        chart: {
          layout: {
            background: {
              type: 'solid',
              color: '#2B2B43',
            },
            lineColor: '#2B2B43',
            textColor: '#D9D9D9',
          },
          watermark: {
            color: 'rgba(0, 0, 0, 0)',
          },
          crosshair: {
            color: '#758696',
          },
          grid: {
            vertLines: {
              color: '#2B2B43',
            },
            horzLines: {
              color: '#363C4E',
            },
          },
        },
        series: {
            topColor: 'rgba(32, 226, 47, 0.56)',
            bottomColor: 'rgba(32, 226, 47, 0.04)',
            lineColor: 'rgba(32, 226, 47, 1)',
        },
      };

  
      
      chart.applyOptions({
        priceScale: {
          priceFormat: {
          type: 'value',
          precision: 4,
          }
        }
      });

      const candleSeries = chart.addCandlestickSeries({
        upColor: 'rgb(38,166,154)',
        downColor: 'rgb(255,82,82)',
        borderDownColor: 'rgb(255,82,82)',
        borderUpColor: 'rgb(38,166,154)',
        wickDownColor: 'rgb(255,82,82)',
        wickUpColor: 'rgb(38,166,154)',
      });
      candleSeries.setData(chartData);
      
      // Apply dark theme to chart 
      // Apply dark theme to chart 
      chart.applyOptions(darkTheme.chart);

      const symbolName = '{{symbol}}';
      const container = document.getElementById('chart');
      const legend = document.createElement('div');
      legend.style = `position: absolute; left: 12px; top: 12px; z-index: 1; font-size: 14px; font-family: sans-serif; line-height: 18px; font-weight: 300;`;
      legend.className = 'legend-container';
      legend.style.color = 'white';
      container.appendChild(legend);
      const getLastBar = strikeTime
      const formatPrice = strikePrice
      const setTooltipHtml = (name, date, price) => {
        legend.innerHTML = `<div style="font-size: 24px; margin: 4px 0px;">${name}</div><div style="font-size: 22px; margin: 4px 0px;">${price}</div><div>${date}</div>`;
      };

      const updateLegend = param => {
        const validCrosshairPoint = !(
          param === undefined || param.time === undefined || param.point.x < 0 || param.point.y < 0
        );
        const bar = validCrosshairPoint ? param.seriesData.get(areaSeries) : getLastBar(areaSeries);
        // time is in the same format that you supplied to the setData method,
        // which in this case is YYYY-MM-DD
        const time = strikeTime;
        const price = strikePrice
        const formattedPrice = formatPrice(price);
        setTooltipHtml(symbolName, time, price);
      };

      chart.subscribeCrosshairMove(updateLegend);
      
      // Draw strike line
      function drawStrikeLine(price) {

        // Create line series
        const targetLine = chart.addLineSeries({
          color: 'lime',
          lineWidth: 2,
          lineStyle: LightweightCharts.LineStyle.Dashed,
          price: price,
        });

        // Set data points
        targetLine.setData([
          {time: chartData[0].time, close: price},
          {time: chartData[chartData.length-1].time, close: price}
        ]);
      }
      // Draw vertical line
      function drawVerticalLine(time) {
      const lineSeries = chart.addLineSeries({
        color: 'blue',
        lineWidth: 1,
        lineStyle: LightweightCharts.LineStyle.Dashed,
        title: 'Vertical Line'
      });

      lineSeries.setData([
        { time: time, close: 0 },
        { time: time, close: 100 } // Adjust the value range as needed
      ]);
      }

      
      // Handle form submit
      buyBtn.click(function(e) {

        e.preventDefault();

        // // Get form data
        // const data = {
        //   symbol: form.find('#symbol').val(),
        //   stake: form.find('#stake').val(),
        //   expiration: form.find('#expiration').val(),
        //   option_type: 'CALL'
        // };
        
        // AJAX request
        $.ajax({
          url: '/trade_options/CALL/',
          method: 'POST', 
          headers: {
            'X-CSRFToken': csrfToken  // Set the CSRF token in the request headers
          },
          // data: data,
          success: function(res) {
            // drawStrikeLine(strikePrice, chart);

            // Markers.push ({
            //   time: strikeTime,
            //   position: 'belowBar',
            //   color: 'lime',
            //   shape: 'arrowUp',
            //   text: 'Call' 
            // })

            // lineSeries.setMarkers(Markers);
    
            // After performing the buy action, update the trade list and balance
            updateTradeListAndBalance();
          }
        });
      });

      // Sell button handler
      sellBtn.click(function(e) {

        e.preventDefault();

        // Get form data
        // const data = {
        //   symbol: form.find('#symbol').val(),
        //   stake: form.find('#stake').val(),
        //   expiration: form.find('#expiration').val(),
        //   option_type: 'PUT'
        // };

        // AJAX request
        $.ajax({
          url: '/trade_options/PUT/',
          method: 'POST',
          headers: {
            'X-CSRFToken': csrfToken  // Set the CSRF token in the request headers
          },
          // data: data,
          success: function(res) {
            // drawTargetLine(strikePrice, chart);
            // Markers.push ({
            //   time: strikeTime,
            //   position: 'aboveBar',
            //   color: 'red',
            //   shape: 'arrowDown',
            //   text: 'Put'
            // });

            lineSeries.setMarkers(Markers);
            // After performing the buy action, update the trade list and balance
              updateTradeListAndBalance();
          }
        });
      });
        
          // Function to fetch and update chart data
          function fetchAndUpdateChartData() {
            {% with symbol=symbol %}
            fetch("{% url 'get_euro_usd_data' symbol=symbol %}")
            {% endwith %}
                .then(response => response.json())
                .then(transformed_data => {
                if (transformed_data) {
                    candleSeries.setData(transformed_data);
        
                    // Optionally, you can also update the price line
                    chart.applyOptions({
                    priceScale: {
                        mode: 0, // Set the mode to 0 (numeric)
                        invertScale: false,
                    },
                    });
                    candleSeries.update(transformed_data);
                    strikePrice = transformed_data[chartData.length - 1].close;
                    strikeTime = transformed_data[chartData.length - 1].time;
                } else {
                    console.error('Error fetching chart data');
                }
            })
            .catch(error => {
                console.error('Error fetching chart data:', error);
            });
        }
      // Function to update the trade list and demo account balance
      function updateTradeListAndBalance() {
        $.ajax({
          url: '/update_new_data/',
          success: function (data) {
            // Debugging: Print the data received from the server
            console.log('Data received:', data);

            // Update balance
            $('#demo-account-balance').text(data.demo_account_balance);

            // Clear existing trades
            $('#trade-list').empty();

            data.trades.forEach(function (trade) {
              console.log('Trade Data:', trade);
              // Access and print the symbol
              console.log('Trade Symbol:', trade.fields.symbol);

              const row = `
              <div class="flex-auto p-4">
              <div class="flex flex-row -mx-3">
                <div class="flex-none w-2/3 max-w-full px-3">
                  <div>
                    <table style="width: 100%;">
                    <tr>
                      <td id="trade-symbol" class="text-left font-sans text-sm font-semibold leading-normal">${trade.fields.symbol}</td>
                      <td id="trade-type" style="color: green;" class="text-right font-sans text-sm font-semibold leading-normal">${trade.fields.option_type}</td>
                    </tr>
                    <tr>
                      <td id="trade-stake" class="text-left font-bold">
                        ${trade.fields.stake}
                      </td>
                      <td id="trade-exp" class="whitespace-nowrap px-4 py-2 text-gray-700">${trade.fields.expiration} mins</td>
                    </tr>
                    <tr>
                      <td id="trade-symbol" class="text-left font-sans text-sm font-semibold leading-normal">Expire:</td>
                      <td id="trade-type" style="color: red;" class="text-right font-sans text-sm font-semibold leading-normal">${formatCountdown(trade.fields.countdown)}</td>
                    </tr>
                  </table>
                  </div>
                </div>
              </div>
            </div>
            `;
              $('#trade-list').append(row);
            });
            function formatCountdown(countdown) {
                // Extract the first 8 characters to display only the minutes and seconds
                return countdown.substring(0, 8);
            }

            // Debugging: Print the updated trades
            console.log('Updated trades:', $('#trade-list').html());
          },
          error: function (error) {
            // Debugging: Print any errors
            console.error('Error:', error);
          },
        });
      }

      function drawTargetLine(price) {

        // Create line series
        const targetLine = chart.addLineSeries({
          color: 'red',
          lineWidth: 1,
          lineStyle: LightweightCharts.LineStyle.Dashed,
          price: price,
        });
        // Set data points 
        targetLine.setData([
          {time: chartData[0].time, close: price},
          {time: chartData[chartData.length-1].time, close: price}
        ]);
      }
      // Function to update the countdown timer
      function updateCountdownTimer(expirationTime) {
          const countdownTimer = document.getElementById('countdown-timer');
          const currentTime = new Date().getTime();
          const timeRemaining = expirationTime - currentTime;

          // Check if the timer has reached zero
          if (timeRemaining <= 0) {
              // Trigger the AJAX request to update the trade icon and outcomes
              $.ajax({
                  url: '/update_trade_outcomes/',
                  method: 'GET',  // Use GET or POST as appropriate
                  success: function(res) {
                      // Handle the response if needed
                      console.log('Trade outcomes updated:', res);
                  }
              });

              // Hide the timer when it reaches zero
              countdownTimer.style.display = 'none';
          } else {
              // Calculate minutes and seconds remaining
              const minutes = Math.floor((timeRemaining % (20 * 60 * 60)) / (1000 * 60));
              const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);	

              // Update the timer element
              countdownTimer.innerHTML = `Time Remaining: ${minutes}m ${seconds}s`;
          }
      }
      // Get the expiration time from your form or wherever it's available
      const expirationTime = new Date(expiryTime).getTime();
    
      // Update the countdown timer every second (1000 milliseconds)
      setInterval(function() {
          updateCountdownTimer(expirationTime);
          updateTradeListAndBalance();
      }, 1000);
          // Update chart data every 5 seconds
          setInterval(fetchAndUpdateChartData, 1000); // Refresh every 2 seconds
      });
  </script>
      
  </body>
  <!-- plugin for charts  -->
  <script src="/static/assets/js/chartjs.min.js" async></script>
  <!-- plugin for scrollbar  -->
  <script src="/static/assets/js/perfect-scrollbar.min.js" async></script>
  <!-- github button -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- main script file  -->
  <script src="/static/assets/js/soft-ui-dashboard-tailwind.js?v=1.0.5" async></script>
  <script>
    // Initialization for ES Users
    import {
      Ripple,
      initTE,
    } from "tw-elements";

    initTE({ Ripple });
  </script>
  
</html>
